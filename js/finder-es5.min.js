


    /* Activated Pencil Shorcut for logged in users */
    $(document).ready(function() {
    // Check if the specified div exists
    if ($('div.uk-panel#module-275').length) {
      // Replace the content of the specified li
      $('li.item-1735').html('<a uk-toggle="" href="#tm-dialog" class="uk-navbar-toggle" role="button" aria-label="Open Menu"><i class="fad fa-pen" aria-hidden="true"></i></a>');
    }
  });



jQuery(document).ready(function () {
  UIkit.util.ready(function () {
    UIkit.util.$$('[uk-dropdown], [uk-navbar-dropdown]').forEach(el => {
      const dropdown = UIkit.getComponent(el, 'dropdown') || UIkit.getComponent(el, 'navbar');
      if (dropdown && dropdown.$props) {
        dropdown.$props.delayHide = 0;      // No hide delay
        dropdown.$props.animation = '';     // Disable animation
        dropdown.$props.duration = 0;       // Set transition duration to 0
      }
    });
  });
});




jQuery(document).ready(function($) {
    // DESKTOP SIDE MENU
    $('#module-376').each(function() {
        var $module = $(this);

        $module.find('.uk-nav > li.uk-parent').each(function() {
            var $li = $(this);
            var $link = $li.children('a');
            var $icon = $('<span class="uk-icon uk-icon-default toggle-icon" uk-icon="icon: chevron-right" style="float:right; cursor:pointer;"></span>');
            $link.append($icon);

            if ($li.hasClass('uk-active') || $li.find('.uk-active').length) {
                $li.css('background-color', '#f9f9f9');
                $li.children('.uk-nav-sub').show();
                $icon.attr('uk-icon', 'icon: chevron-down');
            } else {
                $li.children('.uk-nav-sub').hide();
            }

            $icon.on('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                var $submenu = $li.children('.uk-nav-sub');
                var currentIcon = $icon.attr('uk-icon');

                $submenu.slideToggle(200);
                $li.toggleClass('uk-open');
                $icon.attr('uk-icon', currentIcon.includes('chevron-right') ? 'icon: chevron-down' : 'icon: chevron-right');
                $li.css('background-color', $submenu.is(':visible') ? '#f9f9f9' : '');
            });
        });
    });
    
});


    jQuery(document).ready(function($) {
  const $target = $('[data-id="module-399#0"]'); // More reliable selector
  let lastScrollTop = 0;
  let hidden = false;

  $(window).on('scroll', function() {
    const scrollTop = $(this).scrollTop();

    if (!hidden && scrollTop > lastScrollTop) {
      $target.fadeOut(500, function() {
        $(this).hide();
      });
      hidden = true;
    }

    lastScrollTop = scrollTop;
  });
});



jQuery(document).ready(function($) {
jQuery(function($) {$('.uk-offcanvas-bar .uk-nav.uk-nav-default').attr('uk-nav','multiple: true').attr('uk-nav', 'targets: > .js-accordion').addClass('uk-nav-accordion level1');}); 
jQuery(function($) {$('.uk-offcanvas-bar .uk-nav.uk-nav-default .uk-nav-sub').attr('uk-nav-sub','multiple: true').attr('uk-nav', 'targets: > .js-accordion').attr('id', 'subnav').addClass('uk-nav-accordion level2');}); 
jQuery(function($) {$('.uk-offcanvas-bar .uk-nav.uk-nav-default .uk-nav-sub ul').attr('id', 'sub-subnav').addClass('uk-nav sub-subnav');}); 
jQuery(function($) {$('.uk-offcanvas-bar .uk-nav.uk-nav-default li.uk-parent').addClass('js-accordion');}); 
jQuery(function($) {$('.sub-subnav').each(function(n) {$(this).attr('id', 'sub-subnav' + n)}); }); 
jQuery(function($) {$('.uk-offcanvas-bar .uk-nav-sub.level2 li.uk-parent>a').wrap('<div class="tm-grid-expand uk-grid-column-small uk-grid" uk-grid><div class="uk-width-expand"></div></div>').addClass('uk-panel uk-width-expand');$('.uk-offcanvas-bar .uk-nav-sub.level2 li.uk-parent .tm-grid-expand').append('<div class="uk-width-auto"><div><a class="uk-toggle level3"><span uk-icon="icon:chevron-down" class="uk-icon"></span></a></div>'); }); 
jQuery(function($) {$('a.level3').each(function () {
    var id = $(this).closest('li').find('.sub-subnav').attr('id');
    $(this).attr('uk-toggle', 'target:#' + id);});
});
jQuery(function($) {$('a.uk-toggle').on('click', function () { $(this).toggleClass('rotate');}); });

jQuery(function ($) {
  const currentUrl = window.location.pathname;

  // Find best match
  $('.uk-offcanvas-bar .uk-nav.uk-nav-default a').each(function () {
    const $a = $(this);
    const href = $a.attr('href');

    if (!href) return;

    // Normalize both paths
    const pathOnly = href.split('?')[0].split('#')[0];

    if (currentUrl === pathOnly || currentUrl.startsWith(pathOnly + '/')) {
      const $li = $a.closest('li');

      // Add uk-active class to current li
      $li.addClass('uk-active');

      // Expand all parents
      $li.parents('li.uk-parent').each(function () {
        const $parentLi = $(this);
        const $subnav = $parentLi.children('.uk-nav-sub');

        $subnav.removeAttr('hidden').show();
        $parentLi.addClass('uk-open');

        // Rotate toggle if exists
        $parentLi.find('a.uk-toggle, a.level3').addClass('rotate');
      });
    }
  });
});
});
